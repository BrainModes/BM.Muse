<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LibMuse: IXNLogManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LibMuse
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interface_i_x_n_log_manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="class_i_x_n_log_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IXNLogManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for IXNLogManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_i_x_n_log_manager.png" usemap="#IXNLogManager_map" alt=""/>
  <map id="IXNLogManager_map" name="IXNLogManager_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a55272684ed1532345aea5af553b3934a"><td class="memItemLeft" align="right" valign="top">(nullable id&lt; <a class="el" href="protocol_i_x_n_log_listener-p.html">IXNLogListener</a> &gt;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_i_x_n_log_manager.html#a55272684ed1532345aea5af553b3934a">makeDefaultLogListener</a></td></tr>
<tr class="separator:a55272684ed1532345aea5af553b3934a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5aa7b5fc22d7cabf2128a35b94e6816"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_i_x_n_log_manager.html#ab5aa7b5fc22d7cabf2128a35b94e6816">setLogListener:</a></td></tr>
<tr class="separator:ab5aa7b5fc22d7cabf2128a35b94e6816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa954afc4b469cd29a6f8db30c33a7152"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_i_x_n_log_manager.html#aa954afc4b469cd29a6f8db30c33a7152">setMinimumSeverity:</a></td></tr>
<tr class="separator:aa954afc4b469cd29a6f8db30c33a7152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd8b2fee1b88202d2274aca3dc20d18"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_i_x_n_log_manager.html#acdd8b2fee1b88202d2274aca3dc20d18">writeLog:raw:tag:message:</a></td></tr>
<tr class="separator:acdd8b2fee1b88202d2274aca3dc20d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfaeddc7a051aff13fb6ea02a4e93672"><td class="memItemLeft" align="right" valign="top">(int64_t)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_i_x_n_log_manager.html#abfaeddc7a051aff13fb6ea02a4e93672">getTimestamp</a></td></tr>
<tr class="separator:abfaeddc7a051aff13fb6ea02a4e93672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b07f26875da7666a7f90c516aa16ecc"><td class="memItemLeft" align="right" valign="top">(double)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_i_x_n_log_manager.html#a6b07f26875da7666a7f90c516aa16ecc">timeSince:</a></td></tr>
<tr class="separator:a6b07f26875da7666a7f90c516aa16ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a26394322e2a9cb518eb8dd7bf041f9f1"><td class="memItemLeft" align="right" valign="top">(nullable <a class="el" href="interface_i_x_n_log_manager.html">IXNLogManager</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_i_x_n_log_manager.html#a26394322e2a9cb518eb8dd7bf041f9f1">instance</a></td></tr>
<tr class="separator:a26394322e2a9cb518eb8dd7bf041f9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages the listener for any logging events generated by LibMuse.</p>
<p>To disable logging: </p><pre class="fragment">setLogListener(null);
</pre><p>To install a custom log listener for your application: </p><pre class="fragment">setLogListener(your_log_listener);
</pre><p>To restore default logging to standard error (if you have previously changed the log listener): </p><pre class="fragment">setLogListener(makeDefaultLogListener());
</pre><p>An instance of the default listener is installed unless another listener is supplied. The default log listener prints all messages to standard error as they show up, without any buffering, using the following formatting rules: </p><ul>
<li>Raw logs are printed directly without any formatting or newline. </li>
<li>Other messages are formatted to pretty-print with the tag, timestamp, severity, and log message on a single line (prepending a newline if the last message printed was raw.)</li>
</ul>
<p>For example, suppose that these packets showed up in order: {info, false, "A", 4, "thing A"}, {info, true, "FOO", 1, "+"}, {err, true, "BAR", 3, "-"}, {warn, false, "B", 2, "thing B"} where the second parameter idicates if this is a raw log message. The log output would be formatted roughly as such: </p><pre class="fragment">A [I 4.000] thing A
+-
B [W 2.000] thing B
</pre><p>In order to provide this formatting without buffering or losing messages, the default log listener uses a mutex, effectively making the logging subsystem single-threaded and IO-bound. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="protocol_i_x_n_log_listener-p.html">IXNLogListener</a> </dd></dl>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="abfaeddc7a051aff13fb6ea02a4e93672"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int64_t) getTimestamp </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current timestamp.</p>
<p>The returned value is in microseconds since some epoch &ndash; January 1 1970 on UNIX, but possibly other values on other systems.</p>
<dl class="section return"><dt>Returns</dt><dd>The current timestamp. </dd></dl>

</div>
</div>
<a class="anchor" id="a26394322e2a9cb518eb8dd7bf041f9f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (nullable <a class="el" href="interface_i_x_n_log_manager.html">IXNLogManager</a> *) instance </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the shared log manager instance. </p><dl class="section return"><dt>Returns</dt><dd>The shared log manager instance. </dd></dl>

</div>
</div>
<a class="anchor" id="a55272684ed1532345aea5af553b3934a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (nullable id&lt;<a class="el" href="protocol_i_x_n_log_listener-p.html">IXNLogListener</a>&gt;) makeDefaultLogListener </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs and returns a default log listener.</p>
<dl class="section return"><dt>Returns</dt><dd>an instance of the default log listener. </dd></dl>

</div>
</div>
<a class="anchor" id="ab5aa7b5fc22d7cabf2128a35b94e6816"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setLogListener: </td>
          <td></td>
          <td class="paramtype">(nullable id&lt; <a class="el" href="protocol_i_x_n_log_listener-p.html">IXNLogListener</a> &gt;)&#160;</td>
          <td class="paramname"><em>listener</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the log listener.</p>
<p>There is only one log listener active at a time; hence this is just a plain setter rather than a register / unregister pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>the LogListener to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa954afc4b469cd29a6f8db30c33a7152"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setMinimumSeverity: </td>
          <td></td>
          <td class="paramtype">(IXNSeverity)&#160;</td>
          <td class="paramname"><em>severity</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the minimum log severity.</p>
<p>Messages at or above this severity will be passed to the configured log listener. Messages below this severity will be dropped. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">severity</td><td>the minimum log severity to log. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6b07f26875da7666a7f90c516aa16ecc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (double) timeSince: </td>
          <td></td>
          <td class="paramtype">(int64_t)&#160;</td>
          <td class="paramname"><em>timestamp</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the time elapsed in seconds since the passed timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>The prior timestamp. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acdd8b2fee1b88202d2274aca3dc20d18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) writeLog: </td>
          <td></td>
          <td class="paramtype">(IXNSeverity)&#160;</td>
          <td class="paramname"><em>severity</em></td>
        </tr>
        <tr>
          <td class="paramkey">raw:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>raw</em></td>
        </tr>
        <tr>
          <td class="paramkey">tag:</td>
          <td></td>
          <td class="paramtype">(nonnull NSString *)&#160;</td>
          <td class="paramname"><em>tag</em></td>
        </tr>
        <tr>
          <td class="paramkey">message:</td>
          <td></td>
          <td class="paramtype">(nonnull NSString *)&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a log line.</p>
<p>This method sends messages to the configured log listener. It is exposed here primarily so that LibMuse can access it from its own platform-specific code, but there's nothing stopping you from using it and doing all your logging through LibMuse. Except please don't, because we may change the API at any time, and why would you?</p>
<p>The log's timestamp is the number of seconds since this log manager was created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">severity</td><td>The severity of this log message. </td></tr>
    <tr><td class="paramname">raw</td><td><code>true</code> if this is a raw log message (no formatting), <code>false</code> otherwise </td></tr>
    <tr><td class="paramname">tag</td><td>The tag for this message. </td></tr>
    <tr><td class="paramname">message</td><td>The log message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_i_x_n_log_manager_8h_source.html">IXNLogManager.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interface_i_x_n_log_manager.html">IXNLogManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
